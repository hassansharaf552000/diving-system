<div class="code-page"><div class="code-card">
  <div class="code-toolbar"><div class="toolbar-left"><button class="back-btn" (click)="goBack()">â†</button><h2>ğŸ’µ Code Transportation Cost</h2><span class="record-count">{{ filtered.length }} records</span></div><div class="toolbar-right"><button class="btn-add" (click)="openAdd()">ï¼‹ Add New Cost</button></div></div>
  <div class="code-table-wrap"><div class="table-search"><span class="search-icon">ğŸ”</span><input type="text" [(ngModel)]="searchTerm" placeholder="Search costs..."></div>
    <table class="code-table"><thead><tr><th>Type</th><th>Cost Value</th><th>Currency</th><th>From Date</th><th>To Date</th><th style="width:90px">Actions</th></tr></thead><tbody>
      <tr *ngFor="let item of filtered"><td><strong>{{ item.typeName }}</strong></td><td>{{ item.costValue }}</td><td>{{ item.currency }}</td><td>{{ item.fromDate | date:'dd/MM/yyyy' }}</td><td>{{ item.toDate | date:'dd/MM/yyyy' }}</td><td><div class="actions-cell"><button class="action-btn edit-btn" (click)="openEdit(item)">âœï¸</button><button class="action-btn delete-btn" (click)="confirmDelete(item)">ğŸ—‘ï¸</button></div></td></tr>
      <tr *ngIf="filtered.length === 0"><td colspan="6" class="empty-row">No costs found</td></tr></tbody></table>
    <div class="table-footer"><span class="records-info">Showing {{ filtered.length }} of {{ items.length }} records</span></div></div>
</div>
<app-modal [title]="isEdit ? 'Edit Cost' : 'Add New Cost'" [isOpen]="isModalOpen" (closed)="closeModal()" size="medium">
  <div class="modal-form">
    <div class="form-row">
      <div class="form-group"><label>Type</label><select [(ngModel)]="model.typeId"><option [ngValue]="undefined">Select...</option><option *ngFor="let t of types" [ngValue]="t.id">{{ t.typeName }}</option></select></div>
      <div class="form-group"><label>Currency</label><select [(ngModel)]="model.currency"><option value="">Select...</option><option value="USD">USD</option><option value="EUR">EUR</option><option value="EGP">EGP</option><option value="GBP">GBP</option></select></div>
    </div>
    <div class="form-row">
      <div class="form-group"><label>Cost Value</label><input type="number" [(ngModel)]="model.costValue" placeholder="Enter cost value"></div>
    </div>
    <div class="form-row">
      <div class="form-group"><label>From Date</label><input type="date" [(ngModel)]="model.fromDate"></div>
      <div class="form-group"><label>To Date</label><input type="date" [(ngModel)]="model.toDate"></div>
    </div>
  </div>
  <div class="modal-footer"><button class="btn-save" (click)="save()">{{ isEdit ? 'ğŸ’¾ Update' : 'ï¼‹ Add' }}</button><button class="btn-cancel-modal" (click)="closeModal()">Cancel</button></div>
</app-modal>
<app-confirm-dialog [isOpen]="showDeleteConfirm" [itemName]="(deleteTarget?.typeName || '') + ' cost'" (confirmed)="onDeleteConfirmed()" (cancelled)="onDeleteCancelled()"></app-confirm-dialog></div>
